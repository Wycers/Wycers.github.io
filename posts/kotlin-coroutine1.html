<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kotlin协程初探 · Wycer&#39;s blog · QwQ</title>
    <meta name="description" content="花开花落，再灿烂的星光也会消失。">
    <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3F51B5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/192.png">
  <meta name="msapplication-TileImage" content="/icons/192.png">
  <meta name="msapplication-TileColor" content="#3F51B5">
    
    <link rel="preload" href="/assets/css/styles.b0d9375f.css" as="style"><link rel="preload" href="/assets/js/app.b0d9375f.js" as="script"><link rel="preload" href="/assets/js/49.6cea32d4.js" as="script"><link rel="prefetch" href="/assets/js/1.9bac55ce.js"><link rel="prefetch" href="/assets/js/10.0fccaf93.js"><link rel="prefetch" href="/assets/js/11.8285e651.js"><link rel="prefetch" href="/assets/js/12.204817fe.js"><link rel="prefetch" href="/assets/js/13.38904b1e.js"><link rel="prefetch" href="/assets/js/14.d3875814.js"><link rel="prefetch" href="/assets/js/15.f0c91af7.js"><link rel="prefetch" href="/assets/js/16.a2b839b2.js"><link rel="prefetch" href="/assets/js/17.bb852593.js"><link rel="prefetch" href="/assets/js/18.0d9a8cc4.js"><link rel="prefetch" href="/assets/js/19.5e0e13b5.js"><link rel="prefetch" href="/assets/js/2.c118dce5.js"><link rel="prefetch" href="/assets/js/20.b58f8628.js"><link rel="prefetch" href="/assets/js/21.c7367110.js"><link rel="prefetch" href="/assets/js/22.34c06b15.js"><link rel="prefetch" href="/assets/js/23.97b66e2d.js"><link rel="prefetch" href="/assets/js/24.3395d0f0.js"><link rel="prefetch" href="/assets/js/25.fb38d25e.js"><link rel="prefetch" href="/assets/js/26.c8f77286.js"><link rel="prefetch" href="/assets/js/27.fb43c517.js"><link rel="prefetch" href="/assets/js/28.05e657f1.js"><link rel="prefetch" href="/assets/js/29.bd82caad.js"><link rel="prefetch" href="/assets/js/3.0fc009c0.js"><link rel="prefetch" href="/assets/js/30.e7a91386.js"><link rel="prefetch" href="/assets/js/31.1fb824c7.js"><link rel="prefetch" href="/assets/js/32.0c2c5b81.js"><link rel="prefetch" href="/assets/js/33.d9f45cca.js"><link rel="prefetch" href="/assets/js/34.8b1a1b90.js"><link rel="prefetch" href="/assets/js/35.bfb8a69d.js"><link rel="prefetch" href="/assets/js/36.893001da.js"><link rel="prefetch" href="/assets/js/37.5d5d1fbd.js"><link rel="prefetch" href="/assets/js/38.7bedce41.js"><link rel="prefetch" href="/assets/js/39.67872723.js"><link rel="prefetch" href="/assets/js/4.e2663d4d.js"><link rel="prefetch" href="/assets/js/40.9b034a87.js"><link rel="prefetch" href="/assets/js/41.c41458bd.js"><link rel="prefetch" href="/assets/js/42.19c99a73.js"><link rel="prefetch" href="/assets/js/43.3e7e0230.js"><link rel="prefetch" href="/assets/js/44.f6ac2b06.js"><link rel="prefetch" href="/assets/js/45.b8b598ed.js"><link rel="prefetch" href="/assets/js/46.48b16736.js"><link rel="prefetch" href="/assets/js/47.11c3adfa.js"><link rel="prefetch" href="/assets/js/48.3563729a.js"><link rel="prefetch" href="/assets/js/5.9c36dcff.js"><link rel="prefetch" href="/assets/js/50.b72bf221.js"><link rel="prefetch" href="/assets/js/51.8be703c0.js"><link rel="prefetch" href="/assets/js/52.4b0ad7a8.js"><link rel="prefetch" href="/assets/js/53.551ce7fb.js"><link rel="prefetch" href="/assets/js/54.f96082ce.js"><link rel="prefetch" href="/assets/js/6.14292550.js"><link rel="prefetch" href="/assets/js/7.710cec77.js"><link rel="prefetch" href="/assets/js/8.eba8f4c4.js"><link rel="prefetch" href="/assets/js/9.0cc7f4d1.js">
    <link rel="stylesheet" href="/assets/css/styles.b0d9375f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="app" class="application theme--light"><div class="application--wrap"><div class="progress-linear blog-progress" style="height:3px;display:none;"><div class="progress-linear__background accent" style="height:3px;opacity:0.4;width:100%;"></div><div class="progress-linear__bar"><!----><div class="progress-linear__bar__determinate accent" style="width:0%;"></div></div></div><aside class="navigation-drawer navigation-drawer--close navigation-drawer--fixed navigation-drawer--is-mobile" style="height:100%;margin-top:0px;max-height:calc(100% - 0px);transform:translateX(-240px);width:240px;"><div><div class="aside-brand-wrap"><div class="aside-brand elevation-1"><a href="/" class="aside-avatar elevation-2 router-link-active"><img src="/avatar.jpg" alt="avatar"></a><hgroup class="mt-3 variant-hide aside-group white--text"><div class="headline">Wycer</div><a title="wycers@gmail.com" class="aside-mail white--text">wycers@gmail.com</a><p class="subheading mt-1 aside-description">花开花落，再灿烂的星光也会消失。</p></hgroup></div></div><hr class="divider theme--dark"><div class="list nav-list"><div class="secondary--text"><a href="/" class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fa fa-home"></i></div></div><div class="list__tile__content">主页</div></a></div><div class="secondary--text"><a href="/essay" class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fa fa-edit"></i></div></div><div class="list__tile__content">随笔</div></a></div><div class="secondary--text"><a href="/tags" class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fa fa-tag"></i></div></div><div class="list__tile__content">标签</div></a></div><div class="secondary--text"><a href="/github" class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fab fa-github"></i></div></div><div class="list__tile__content">Github</div></a></div><div class="secondary--text"><a href="/about" class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fa fa-user-secret"></i></div></div><div class="list__tile__content">关于</div></a></div></div></div><div class="navigation-drawer__border"></div></aside><nav class="blog-toolbar toolbar toolbar--fixed theme--dark primary" style="margin-top:0px;padding-right:0px;padding-left:0px;transform:translateY(0px);"><div class="toolbar__content" style="height:56px;"><button type="button" class="btn btn--icon"><div class="btn__content"><i class="fa fa-bars"></i></div></button><div class="toolbar__title">Kotlin协程初探</div><div class="spacer"></div><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><div class="menu" style="display:none;"><div class="menu__activator"><button type="button" class="btn btn--icon"><div class="btn__content"><i class="fa fa-share-alt"></i></div></button></div><div class="menu__content" style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top right;z-index:0;display:none;"><div class="list"><div class="secondary--text"><a class="list__tile list__tile--link"><div class="list__tile__avatar"><div class="avatar" style="height:40px;width:40px;"><i class="fa fa-lg fa-copy"></i></div></div><div class="list__tile__title">复制链接</div></a></div></div><input type="text" tabindex="-1" aria-hidden="true" value="" class="fake-hide"></div></div></div></nav><main class="content" style="padding-top:56px;padding-right:0px;padding-bottom:0px;padding-left:0px;"><div class="content--wrap"><div class="container blog-container grid-list-xl align-center"><div class="layout row wrap"><div class="flex mb-3 xs12"><article class="card elevation-16 post-card" style="height:auto;"><div class="card__title"><div class="flex xs12"><h2 class="display-1 mb-3">Kotlin协程初探</h2><div class="post-meta"><time datetime="2018-05-19T18:39:53.000Z" class="secondary--text post-time">2018年05月20日</time></div></div></div><div class="card__text pt-0 pb-0"><div class="flex xs12"><div class="content custom"><p>学习 kotlin 协程</p><h2 id="介绍协程"><a href="#介绍协程" aria-hidden="true" class="header-anchor">#</a> 介绍协程</h2><p>很长一段时间我都没有写博客了，主要是这段时间忙着毕业的事，一直无法专心于做某一件事，所以很多东西都耽搁了。今天聊一聊 Kotlin 的协程。</p><blockquote><p>协程，又称微线程，纤程。英文名 Coroutine。</p></blockquote><p>上面一段是我摘自阮一峰老师的博客。我们知道最近几年协程这个概念很火，不少的语言都支持了协程，如 Python，go 等语言。当然由于很多语言历史局限性的存在，协程的使用并不友好，最好的当属 go 语言的协程，只需一个简单的<code>go</code>关键字就可以开启协程之旅了。</p><p>今天就来说说 kotlin 的协程，kotlin 在 1.1 版本后引入了协程，目前还处于实验性阶段。但是仍然可以拿来尝尝鲜，前面提到 go 语言的协程非常容易使用，在 kotlin 里面协程的使用也是非常简单的，而且还更加丰富。</p><h2 id="使用协程"><a href="#使用协程" aria-hidden="true" class="header-anchor">#</a> 使用协程</h2><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking <span class="token punctuation">{</span>
    launch <span class="token punctuation">{</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;World&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>这段代码便可以在 Kotlin 中开启一个协程，与一般的主函数不同，由于协程的特殊性。Kotlin 中使用协程的函数必须在前面加上<code>suspend</code>关键字。suspend 代表着当前函数可以被<code>挂起</code>，从而将该函数的使用权交给调度器，调度器会在合适的时机去使用和调度该函数从而实现 cpu 资源的充分利用。</p><p>为了更方便的使用协程，kotlin 的标准库为我们提供了<code>runBlocking</code>这个函数。</p><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">runBlocking</span><span class="token punctuation">(</span>context<span class="token operator">:</span> CoroutineContext <span class="token operator">=</span> EmptyCoroutineContext<span class="token punctuation">,</span> block<span class="token operator">:</span> <span class="token keyword">suspend</span> CoroutineScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> T<span class="token punctuation">)</span><span class="token operator">:</span> T
</code></pre><p>这个函数会默认的将<code>{}</code>内部的语句挂载到 suspend 函数中，方便我们使用协程。Kotlin 中提供了两个函数启动协程，分别是<code>launch</code>和<code>async</code>,这两个函数均可以启动协程，异同点我们将在后面叙述。</p><p>launch 启动协程后，延时 1s，输出<code>World</code>。但是当真正运行这个函数时，我们其实得不到任何输出，原因很简单：</p><blockquote><p>由于协程的非阻塞性，开启一段协程并不会阻塞当前的线程。协程在执行的时候，主函数仍在向下执行，可是主函数下没有任何执行语句，主函数便会退出，协程此时虽然仍在执行，但主函数已退出，整个程序就退出了。所以<code>World</code>这个词还没来得及输出，程序就已经退出了。</p></blockquote><p>可是我们必须得知道协程是否真正的在执行，所以我们必须阻塞一下主函数，或者说让主函数不会立马退出，让协程有时间的去输出。所以这样改进我们的代码：</p><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking <span class="token punctuation">{</span>
    <span class="token keyword">val</span> job <span class="token operator">=</span> launch <span class="token punctuation">{</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;World&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Hello, &quot;</span></span><span class="token punctuation">)</span>
    Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>如果一些顺利，我们会得到下面的输出：</p><pre class="language-bash"><code>Hello,
World
</code></pre><p>当协程开启后，主程序与协程同时执行（这里的同时并不是指真真的同时，而是 CPU 调度速度快使我们感觉到二者在同时执行），但协程里面正在<code>delay</code>，时间为 1s,所以主程序先输出<code>Hello,</code>,然后主程序正在被<code>Thread.sleep(2000L)</code>所阻塞，时间为 2s，这时候只被阻塞一秒的协程便有机会输出了，所以控制台后面输出<code>World</code>，然后程序过一会儿便会自己退出。</p><p>这里可以看出，协程是真正的非阻塞式，它不会阻塞主程序的向下执行，而且它绝对收主程序控制，主程序退出，它也会被立刻退出。当然<code>Thread.sleep(2000L)</code>这个函数并不地道，Kotlin 提供了一个更好用的<code>delay</code>函数给我们，方便我们进行协程的阻塞。所以，地道的程序如下所示：</p><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking <span class="token punctuation">{</span>
    <span class="token keyword">val</span> job <span class="token operator">=</span> launch <span class="token punctuation">{</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;World&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Hello, &quot;</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>如果一切正常，你将会得到同样的输出。但是这样的程序真的就地道吗，我们指定了<code>delay</code>的时间，毫无疑问是不准确的，因此 Kotlin 为我们提供了一个更好的方法<code>join</code>。它会阻塞主程序，直到协程执行完毕，所以真正地道的写法是这样的：</p><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking <span class="token punctuation">{</span>
    <span class="token keyword">val</span> job <span class="token operator">=</span> launch <span class="token punctuation">{</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;World&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Hello, &quot;</span></span><span class="token punctuation">)</span>
    job<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>这样，当协程在执行的时候，主程序等待，当协程完成自己的任务后，主程序继续执行。</p><p>当然协程最最最重要的特性——轻量。操作系统的进程是非常昂贵的，线程也是价值不菲的，但是协程真的是异常便宜，比如说：</p><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking <span class="token punctuation">{</span>
    <span class="token keyword">val</span> jobs <span class="token operator">=</span> <span class="token function">List</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        launch <span class="token punctuation">{</span>
            <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;.&quot;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    jobs<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>我们开了多少了协程，没错 10 万个，但是计算机毫无感觉。可以想象，在高并发的情况下，协程带来了提升无疑是巨大的。</p><h2 id="协程用于-io"><a href="#协程用于-io" aria-hidden="true" class="header-anchor">#</a> 协程用于 io</h2><p>上面，我们很明显的感觉到了协程带来的优越性。但是更多的情况下，我们需要协程获取数据，比如说数据请求，而后得到该数据。<code>launch</code>开启的协程，并不能完成这一点，它只能<code>启动</code>协程，当然上面也提过 Kotlin 有两个函数可以开启协程。既然<code>lanuch</code>不能，那<code>async</code>是否可以了？答案是必须得，毕竟谁也不会没事搞两个函数。</p><p>Kotlin 中的<code>async</code>这个函数受到了 C#影响，表明当前的函数的是个异步的函数，异步的函数必然会带有自己的<code>callback</code>。但是为了使用方便和优美，Kotlin 提供了<code>await</code>方法，当数据请求完毕时，协程会自动调用该方法，并且返回请求的数据。我们通过下面的例子来看一下：</p><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> runBlocking<span class="token operator">&lt;</span>Unit<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> elasticDto <span class="token operator">=</span> <span class="token function">ElasticDto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  ①
    <span class="token keyword">val</span> job <span class="token operator">=</span> async <span class="token punctuation">{</span>
        elasticDto<span class="token punctuation">.</span><span class="token function">getLastestByPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ②
    <span class="token punctuation">}</span>
    job<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">also</span> <span class="token punctuation">{</span>  ③
        <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    elasticDto<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ④
<span class="token punctuation">}</span>
</code></pre><p>①：创建一个数据请求的类——elasticDto。</p><p>②：用<code>async</code>开启一个协程，并在该函数下调用 elasticDto 的<code>getLastestByPage</code>方法请求远端的数据，请求而来的数据会自动装入<code>job</code>里面。</p><p>③：等待协程处理完毕，处理完毕后输出请求数据内容。</p><p>④：关闭 elasticDto 客户端。</p><p>与<code>lanuch</code>不同，<code>async</code>会返回一个<code>Deferred</code>对象，该对象拥有协程完成后的回调功能，并从中取得请求来的数据。并且<code>await</code>会如同前面的<code>join</code>函数一样，阻塞当前的主程序。</p><p>当然 Kotlin 协程还实现了如 Go 语言一样的<code>CSP</code>模型，通过 Channel 来实现协程之间的通信，笔者会在下篇比较 Kotlin 和 Go 语言在该方面的异同点。Kotlin 协程实现了两种模式下通信方式，很大程度上既照顾了使用 callback 的方式，也拥抱了 CSP 模型。具体请参考官方的<a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md" target="_blank" rel="noopener noreferrer">指北</a>。</p></div></div></div><div class="card__actions"><div class="flex xs12"><a href="/tags/Kotlin"><span tabindex="0" class="chip capitalize chip-tag chip--label chip--small"><span class="chip__content">Kotlin</span></span></a><a href="/tags/协程"><span tabindex="0" class="chip capitalize chip-tag chip--label chip--small"><span class="chip__content">协程</span></span></a></div></div></article></div><div class="flex text-xs-left xs6"><a href="/posts/gym-101673-B.html" class="post-nav btn btn--flat btn--router"><div class="btn__content"><div class="grey--text"><i class="fa mr-1 fa-chevron-left"></i>Prev</div><div class="title mt-1 primary--text hidden-xs-only">[Gym 101673]B - Craters</div></div></a></div><div class="flex text-xs-right xs6"><a href="/posts/cqoi2015.html" class="post-nav btn btn--flat btn--router"><div class="btn__content"><div class="grey--text">Next
          <i class="fa ml-1 fa-chevron-right"></i></div><div class="title mt-1 primary--text hidden-xs-only">[CQOI-2104] 任务查询系统</div></div></a></div><div class="flex mt-3 xs12"><div class="card" style="height:auto;"><div class="card__title"><span class="headline">评论区</span></div><div class="container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i><p class="gt-initing-text">Gitalking ...</p></div><!----><!----><div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span><!----></span></a><div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea><div class="gt-header-preview markdown-body hide"></div><div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span><span class="gt-ico-text">Markdown is supported</span></span></a><!----><button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span><!----></button><button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span><!----></button></div></div></div><div class="gt-comments"><span></span><p class="gt-comments-null">
              Be the first guy leaving a comment!
          </p><!----></div></div></div></div></div></div></div><div data-v-44f5dfee><aside class="navigation-drawer navigation-drawer--close navigation-drawer--fixed navigation-drawer--is-mobile navigation-drawer--right" style="height:100%;margin-top:0px;max-height:calc(100% - 0px);transform:translateX(180px);width:180px;" data-v-44f5dfee><div data-v-44f5dfee><p data-v-44f5dfee></p><ul class="group-items" data-v-44f5dfee><li class="sidebar-header" data-v-44f5dfee><a href="#介绍协程" class="sidebar-link" data-v-44f5dfee>
            介绍协程
          </a></li><li class="sidebar-header" data-v-44f5dfee><a href="#使用协程" class="sidebar-link" data-v-44f5dfee>
            使用协程
          </a></li><li class="sidebar-header" data-v-44f5dfee><a href="#协程用于-io" class="sidebar-link" data-v-44f5dfee>
            协程用于 io
          </a></li></ul></div><div class="navigation-drawer__border"></div></aside><button type="button" class="mt-5 btn btn--floating btn--fixed btn--right btn--small btn--top theme--dark blue" data-v-44f5dfee><div class="btn__content"><i aria-hidden="true" class="icon fa fa fa fa-list-ul" data-v-44f5dfee></i></div></button></div></div><footer app="" class="footer blog-footer darken-1 mt-3" style="height:auto;"><div class="primary--text text--lighten-4 text-xs-center py-3 card card--flat card--tile primary" style="height:auto;"><div class="card__text pb-0">
      Released under the MIT License
    </div><div class="card__text pt-0 mt-1"><span>Wycer © 2018 - 2024</span><span><a href="https://beian.miit.gov.cn" target="_blank" rel="noopener noreferrer">
            粤ICP备18027145号-1
          </a><br>
        Power by
        <a href="https://vuepress.vuejs.org" target="_blank" rel="noopener noreferrer">VuePress</a> Theme
        <a href="https://github.com/yscoder/vuepress-theme-indigo" target="_blank" rel="noopener noreferrer">indigo</a></span></div></div></footer></div></main><button type="button" class="btn btn--bottom btn--floating btn--fixed btn--right accent" style="display:none;"><div class="btn__content"><i class="fa fa-lg fa-chevron-up"></i></div></button></div></div></div>
    <script src="/assets/js/app.b0d9375f.js" defer></script><script src="/assets/js/49.6cea32d4.js" defer></script>
  </body>
</html>
